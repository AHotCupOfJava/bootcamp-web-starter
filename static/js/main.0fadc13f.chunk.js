(this["webpackJsonpbootcamp-web-starter"]=this["webpackJsonpbootcamp-web-starter"]||[]).push([[0],{100:function(e,n,t){e.exports=t(156)},139:function(e,n){},141:function(e,n){},156:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(85),c=t.n(o),i=t(11),u=t(17),l=t(24),s=t(5),f=t(86);t.n(f).a.load({google:{families:["Montserrat","sans-serif"]}});var d={colors:{navbar:"#0C1034",link:"#73C6B6 ",static:"#D1F2EB",hovered:"#73C6B6"},fonts:{body:{h1:"40px",color:"#000000",headerweight:500,size:"15px",smaller:"10px",larger:"16px",fontfamily:"antic"},header:{h1:"40px",color:"#FFFFFF",headerweight:500,size:"15px",larger:"3em",family:"Montserrat"}}},p=t(25),b=t(96),h=t(97),m=t(89),g=t(12),v=new h.a({uri:"http://localhost:5000/graphql",credentials:"include"}),x=new g.a((function(e,n){var t=localStorage.getItem("token");return t&&e.setContext({headers:{authorization:t}}),n(e)})),F=Object(m.a)((function(){})),j=new p.a({cache:new b.a,link:g.a.from([F,x,v])}),w=t(19),E=t.n(w),k=t(6),O=t(43),y=t.n(O),C=t(4);function S(){var e=Object(C.a)(["\n    position: absolute;\n    width: 100px;\n    height: 100px;\n    top: 50%;\n    left: 50%;\n    margin: -50px 0 0 -50px;\n    background: #CB4B16;\n    border-radius: 80%;\n    backface-visibility: hidden;\n"]);return S=function(){return e},e}function P(){var e=Object(C.a)(["\n    outline: 1px solid black;\n    position: absolute;\n    top: ",";\n    left: 25%;\n    background-color: #73C6B6;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    opacity: ",";\n    transition: opacity 3s, top 3s;\n    padding: 20px;\n"]);return P=function(){return e},e}function N(){var e=Object(C.a)(["\n    position: absolute;\n    top: 0px;\n    right: 0px;\n    object-fit: cover;\n    width: 100%;\n    height: 100%;\n    z-index: -1;\n    opacity: ",";\n    transition: opacity 4s;\n"]);return N=function(){return e},e}function B(){var e=Object(C.a)(["\n  width: 400px;\n  margin: 10px 30px;\n  text-align: center;\n  font-size: 20px;\n  font-family: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  "]);return B=function(){return e},e}function z(){var e=Object(C.a)(["\n  display: flex;\n  height: 50%;\n  width: 100vw;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  position: absolute;\n  top: 0px;\n"]);return z=function(){return e},e}var I=s.b.div(z()),L=s.b.p(B(),(function(e){return e.theme.fonts.header.family})),R=s.b.img(N(),(function(e){return e.fade?"1":"0.5"})),_=s.b.div(P(),(function(e){return e.fade?"25%":"0%"}),(function(e){return e.fade?"1":"0"}));s.b.button(S());function T(){var e=Object(C.a)(["\n    mix-blend-mode: lighten;\n  color: black;\n  background: white;\n  border-color: black;\n  border-radius: 5px;\n  cursor: pointer;\n  width: 100%;\n  height: 40px;\n  font-weight: bold;\n  font-size: 20px;\n  font-family: ",";\n  margin: 10px;\n  &:hover {\n      background: lightgrey;\n        animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;\n        transform: translate3d(0, 0, 0);\n        backface-visibility: hidden;\n        perspective: 1000px;\n    }\n\n    @keyframes shake {\n    10%, 90% {\n        transform: translate3d(-1px, 0, 0);\n    }\n    \n    20%, 80% {\n        transform: translate3d(2px, 0, 0);\n    }\n    }\n"]);return T=function(){return e},e}function $(){var e=Object(C.a)([""]);return $=function(){return e},e}var G=Object(s.b)(u.b)($()),M=s.b.button(T(),(function(e){return e.theme.fonts.header.family})),V=function(){return a.a.createElement(G,{to:"/login"},a.a.createElement(M,{type:"button"},"Login"))};function D(){var e=Object(C.a)(["\n    mix-blend-mode: lighten;\n  color: black;\n  background: white;\n  border-color: black;\n  border-radius: 5px;\n  cursor: pointer;\n  width: 100%;\n  height: 40px;\n  font-weight: bold;\n  font-size: 20px;\n  font-family: ",";\n  margin: 10px;\n  &:hover {\n      background: lightgrey;\n        animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;\n        transform: translate3d(0, 0, 0);\n        backface-visibility: hidden;\n        perspective: 1000px;\n    }\n\n    @keyframes shake {\n    10%, 90% {\n        transform: translate3d(-1px, 0, 0);\n    }\n    \n    20%, 80% {\n        transform: translate3d(2px, 0, 0);\n    }\n\n    30%, 50%, 70% {\n        transform: translate3d(-4px, 0, 0);\n    }\n\n    40%, 60% {\n        transform: translate3d(4px, 0, 0);\n    }\n    }\n"]);return D=function(){return e},e}function q(){var e=Object(C.a)([""]);return q=function(){return e},e}var A=Object(s.b)(u.b)(q()),J=s.b.button(D(),(function(e){return e.theme.fonts.header.family})),Q=function(){return a.a.createElement(A,{to:"/register"},a.a.createElement(J,{type:"button"},"Register"))};function U(){var e=Object(C.a)([""]);return U=function(){return e},e}function W(){var e=Object(C.a)(["\n  font-family: ",";\n"]);return W=function(){return e},e}function Y(){var e=Object(C.a)(["\n    width: 20%;\n  height: 40px;\n  vertical-align: middle;\n  border-radius: 3px;\n  border: 2px solid ",";\n  position: relative;\n  padding: 0 5px;\n  background-color: ",";\n  transition: 0.3s all;\n  ::placeholder{\n    &.hide-on-focus:focus {\n    &::-webkit-input-placeholder {\n      color: white;\n    }\n  }}\n  &:focus {\n    background-color: #FFFFFF;\n  box-shadow: 0px 4px 20px 0px rgba(0, 0, 0, 0.05);\n  color: #000000;\n    }\n"]);return Y=function(){return e},e}function H(){var e=Object(C.a)(["\n    width: 100px;\n    height: 40px;\n    font-size: ",";\n    text-align: center;\n    background: transparent;\n    background-color: #FFFFFF;\n    border-radius: 3px;\n    border: 2px solid #FFFFFF;\n    margin: 0 1em;\n    color: ",";\n    padding: 0.25em 1em;\n\n    &:hover {\n        background: ",";\n        color:#FFFFFF;\n    }\n"]);return H=function(){return e},e}function K(){var e=Object(C.a)(["\n font-family: ",";\n text-align: center;\n "]);return K=function(){return e},e}function X(){var e=Object(C.a)(["\n    width: 100vw;\n    height: 100vh;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    font-family: ",";\n    background-color: ",";\n    \n "]);return X=function(){return e},e}var Z=s.b.div(X(),(function(e){return e.theme.fonts.header.fontfamily}),(function(e){return e.theme.colors.link})),ee=s.b.h1(K(),(function(e){return e.theme.fonts.header.family})),ne=s.b.button(H(),(function(e){return e.theme.fonts.body.larger}),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.hovered})),te=s.b.input(Y(),(function(e){return e.theme.colors.static}),(function(e){return e.theme.colors.static})),re=s.b.p(W(),(function(e){return e.theme.fonts.header.family})),ae=(Object(s.b)(u.b)(U()),function(){var e=Object(r.useState)(!1),n=Object(k.a)(e,2),t=n[0],o=n[1],c=new y.a("4f9c1a03cd916127c332df8c7bb5f877"),i=Object(r.useState)(),u=Object(k.a)(i,2),l=u[0],s=u[1],f=Object(r.useState)(),d=Object(k.a)(f,2),p=d[0],b=d[1];return Object(r.useEffect)((function(){setTimeout((function(){return o(!0)}),500)}),[]),Object(r.useEffect)((function(){l||navigator.geolocation.getCurrentPosition((function(e){var n,t,r,a;return E.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.coords,o.next=3,E.a.awrap(fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n.latitude,"&lon=").concat(n.longitude,"&appid=db5bbba816b58757082ce2230c7754a6&units=imperial")));case 3:return t=o.sent,o.next=6,E.a.awrap(t.json());case 6:return r=o.sent,s(r),o.next=10,E.a.awrap(c.photos.search({text:"".concat(r.weather[0].description," background"),extras:["url_c","description"],per_page:1,sort:"relevance",tags:"desktop wallpaper"}));case 10:(a=o.sent).body.photos.photo[0].url_c?b(a.body.photos.photo[0].url_c):b("https://cdn.wallpapersafari.com/64/53/DI52GS.jpg");case 12:case"end":return o.stop()}}))}),(function(){return alert("Failed to fetch weather data.")}))}),[l]),a.a.createElement(I,null,a.a.createElement(R,{src:p,alt:"weather",fade:t}),a.a.createElement(_,{fade:t},a.a.createElement(ee,null,"Introducing Your Dream Page!"),a.a.createElement(L,null,"This is a build-your-own homepage where you can add and remove features to your liking. You can login or register below!"),a.a.createElement(V,null),a.a.createElement(Q,null)))}),oe=t(23),ce=t(31),ie=t.n(ce);function ue(){var e=Object(C.a)(["\n    mutation REGISTER ($input: RegisterInput!) {\n    register(input: $input) {\n        token\n        user {\n        id\n        username\n        email\n        firstName\n        }\n    }\n    }\n"]);return ue=function(){return e},e}function le(){var e=Object(C.a)(["\n    mutation LOGIN ($email: String!, $password: String! ) {\n    login(email: $email, password: $password) {\n        user {\n        id\n        username\n        email\n        firstName\n        }\n        token\n    }\n}\n"]);return le=function(){return e},e}var se=ie()(le()),fe=ie()(ue()),de=function(){var e=Object(l.f)(),n=Object(r.useState)(""),t=Object(k.a)(n,2),o=t[0],c=t[1],i=Object(r.useState)(""),u=Object(k.a)(i,2),s=u[0],f=u[1],d=Object(r.useState)(""),p=Object(k.a)(d,2),b=p[0],h=p[1],m=Object(oe.a)(se,{variables:{email:o,password:s},onCompleted:function(n){var t=n.login.token;localStorage.setItem("token",t),e.push("/home")},onError:function(e){var n=e.graphQLErrors;n&&h(n[0].message)}}),g=Object(k.a)(m,2),v=g[0],x=g[1],F=x.loading,j=x.error;return a.a.createElement("div",null,a.a.createElement(Z,null,a.a.createElement(ee,null,"Log in"),a.a.createElement("br",null),a.a.createElement(te,{type:"text",placeholder:"Email",value:o,onChange:function(e){return c(e.target.value)}}),a.a.createElement("br",null),a.a.createElement(te,{type:"password",placeholder:"Password",value:s,onChange:function(e){return f(e.target.value)}}),a.a.createElement("br",null),a.a.createElement(ne,{type:"button",onClick:v},"Log in"),F?a.a.createElement(re,null,"Loading..."):a.a.createElement(a.a.Fragment,null),j?a.a.createElement(re,null,b):a.a.createElement(a.a.Fragment,null),a.a.createElement(re,null,"Need an account?"," ",a.a.createElement("a",{href:"http://localhost:3000/register"},"Register"))))},pe=t(13),be=t(44);function he(){var e=Object(C.a)(["\n  font-family: ",";\n"]);return he=function(){return e},e}function me(){var e=Object(C.a)(["\n    width: 20%;\n  height: 40px;\n  vertical-align: middle;\n  border-radius: 3px;\n  border: 2px solid ",";\n  position: relative;\n  padding: 0 5px;\n  background-color: ",";\n  transition: 0.3s all;\n  ::placeholder{\n    &.hide-on-focus:focus {\n    &::-webkit-input-placeholder {\n      color: white;\n    }\n  }}\n  &:focus {\n    background-color: #FFFFFF;\n  box-shadow: 0px 4px 20px 0px rgba(0, 0, 0, 0.05);\n  color: #000000;\n    }\n"]);return me=function(){return e},e}function ge(){var e=Object(C.a)(["\n    width: 21%;\n    height: 40px;\n    font-size: ",";\n    text-align: center;\n    background: transparent;\n    background-color: #FFFFFF;\n    border-radius: 3px;\n    border: 2px solid #FFFFFF;\n    margin: 0 1em;\n    color: ",";\n    padding: 0.25em 1em;\n\n    &:hover {\n        background: ",";\n        color:#FFFFFF;\n    }\n"]);return ge=function(){return e},e}function ve(){var e=Object(C.a)(["\n font-family: ",";\n "]);return ve=function(){return e},e}function xe(){var e=Object(C.a)(["\n    width: 100vw;\n    height: 100vh;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    font-family: ",";\n    background-color: ",";\n    \n "]);return xe=function(){return e},e}var Fe=s.b.div(xe(),(function(e){return e.theme.fonts.header.fontfamily}),(function(e){return e.theme.colors.link})),je=s.b.h1(ve(),(function(e){return e.theme.fonts.header.family})),we=s.b.button(ge(),(function(e){return e.theme.fonts.body.larger}),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.hovered})),Ee=s.b.input(me(),(function(e){return e.theme.colors.static}),(function(e){return e.theme.colors.static})),ke=s.b.p(he(),(function(e){return e.theme.fonts.header.family})),Oe=function(){var e=Object(l.f)(),n=Object(r.useState)(""),t=Object(k.a)(n,2),o=t[0],c=t[1],i=Object(r.useReducer)((function(e,n){return Object(be.a)({},e,{},n)}),{email:"",username:"",password:"",firstName:"",lastName:""}),u=Object(k.a)(i,2),s=u[0],f=u[1],d=Object(oe.a)(fe,{variables:{input:s},onCompleted:function(n){var t=n.register.token;localStorage.setItem("token",t),e.push("/home")},onError:function(e){var n=e.graphQLErrors;n&&c(n[0].message)}}),p=Object(k.a)(d,2),b=p[0],h=p[1],m=h.loading,g=h.error;return a.a.createElement("div",null,a.a.createElement(Fe,null,a.a.createElement(je,null,"Register"),a.a.createElement("br",null),a.a.createElement(Ee,{type:"text",placeholder:"Email",name:"email",onChange:function(e){return f(Object(pe.a)({},e.target.name,e.target.value))}}),a.a.createElement("br",null),a.a.createElement(Ee,{type:"text",placeholder:"Username",name:"username",onChange:function(e){return f(Object(pe.a)({},e.target.name,e.target.value))}}),a.a.createElement("br",null),a.a.createElement(Ee,{type:"password",placeholder:"Password",name:"password",onChange:function(e){return f(Object(pe.a)({},e.target.name,e.target.value))}}),a.a.createElement("br",null),a.a.createElement(Ee,{type:"text",placeholder:"First Name",name:"firstName",onChange:function(e){return f(Object(pe.a)({},e.target.name,e.target.value))}}),a.a.createElement("br",null),a.a.createElement(Ee,{type:"text",placeholder:"Last Name",name:"lastName",onChange:function(e){return f(Object(pe.a)({},e.target.name,e.target.value))}}),a.a.createElement("br",null),a.a.createElement(we,{type:"button",onClick:b},"Add User"),m?a.a.createElement(ke,null,"Loading..."):a.a.createElement(a.a.Fragment,null),g?a.a.createElement(ke,null,o):a.a.createElement(a.a.Fragment,null)))};function ye(){var e=Object(C.a)(["\n  width: 30px;\n  height: 30px;\n  margin-left: 5px;\n  vertical-align: middle;\n  border-radius: 3px;\n  border: 1px solid darkgray;\n  position: relative;\n  background-color: ",";\n  transition: 0.3s all;\n\n  &:hover {\n    background-color: #FFFFFF;\n    color: black;\n  }\n"]);return ye=function(){return e},e}function Ce(){var e=Object(C.a)(["\n  width: 100px;\n  height: 30px;\n  vertical-align: middle;\n  border-radius: 3px;\n  border: 1px solid darkgray;\n  position: relative;\n  padding: 0 5px;\n  background-color: ",";\n  transition: 0.3s all;\n  ::placeholder{\n    &.hide-on-focus:focus {\n    &::-webkit-input-placeholder {\n      color: white;\n    }\n  }}\n  &:focus {\n    background-color: #FFFFFF;\n  box-shadow: 0px 4px 20px 0px rgba(0, 0, 0, 0.05);\n  color: #000000;\n    }\n"]);return Ce=function(){return e},e}function Se(){var e=Object(C.a)(["\n  width: 350px;\n  display: flex;\n  justify-content: center;\n"]);return Se=function(){return e},e}var Pe=s.b.div(Se()),Ne=s.b.input(Ce(),(function(e){return e.theme.colors.static})),Be=s.b.input(ye(),(function(e){return e.theme.colors.static})),ze=function(){return a.a.createElement(Pe,null,a.a.createElement("form",{method:"get",action:"http://www.google.com/search"},a.a.createElement(Ne,{type:"text",name:"q"}),a.a.createElement(Be,{type:"submit",value:"Go!"})))};function Ie(){var e=Object(C.a)(["\n    width: 100px;\n    height: 20px;\n    font-size: ",";\n    text-align: center;\n    background: transparent;\n    background-color: #FFFFFF;\n    border-radius: 3px;\n    border: 2px solid #FFFFFF;\n    margin: 5px;\n    color: ",";\n\n    &:hover {\n        background: ",";\n        color:#FFFFFF;\n    }\n"]);return Ie=function(){return e},e}function Le(){var e=Object(C.a)(["\n    width: 100px;\n    height: 30px;\n    font-size: ",";\n    text-align: center;\n    background: transparent;\n    background-color: #FFFFFF;\n    border-radius: 3px;\n    border: 2px solid #FFFFFF;\n    margin: 5px;\n    color: ",";\n\n    &:hover {\n        background: ",";\n        color:#FFFFFF;\n    }\n"]);return Le=function(){return e},e}function Re(){var e=Object(C.a)(["\n    width: auto;\n    display: flex;\n    justify-content: center;\n    padding: 15px;\n    div {\n        display: none;\n    }\n\n    &:hover div{\n        display: block;\n    }\n"]);return Re=function(){return e},e}var _e=s.b.div(Re()),Te=s.b.button(Le(),(function(e){return e.theme.fonts.body.larger}),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.hovered})),$e=s.b.button(Ie(),(function(e){return e.theme.fonts.body.smaller}),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.hovered}));function Ge(){var e=Object(C.a)(["\n    display: block;\n\n"]);return Ge=function(){return e},e}var Me=s.b.div(Ge()),Ve=function(e){var n=e.check,t=e.setPreferences;return a.a.createElement(Me,null,a.a.createElement("label",{htmlFor:"greeting"},a.a.createElement("input",{type:"checkbox",name:"greeting",defaultChecked:n,id:"greeting",onClick:function(e){return t(Object(pe.a)({},e.target.name,e.target.checked))}}),"Greeting"))};function De(){var e=Object(C.a)(["\n    display: block;\n\n"]);return De=function(){return e},e}var qe=s.b.div(De()),Ae=function(e){var n=e.check,t=e.setPreferences;return a.a.createElement(qe,null,a.a.createElement("label",{htmlFor:"search"},a.a.createElement("input",{type:"checkbox",name:"searchBar",defaultChecked:n,id:"search",onClick:function(e){return t(Object(pe.a)({},e.target.name,e.target.checked))}}),"Search"))};function Je(){var e=Object(C.a)(["\n    display: block;\n\n"]);return Je=function(){return e},e}var Qe=s.b.div(Je()),Ue=function(e){var n=e.check,t=e.setPreferences;return a.a.createElement(Qe,null,a.a.createElement("label",{htmlFor:"weatherCur"},a.a.createElement("input",{type:"checkbox",name:"weatherCur",defaultChecked:n,id:"weatherCur",onClick:function(e){return t(Object(pe.a)({},e.target.name,e.target.checked))}}),"Current Weather"))},We=function(e){var n=e.preferences,t=e.setPreferences,r=e.update;return a.a.createElement(_e,null,a.a.createElement(Te,{type:"button"},"Settings"),a.a.createElement("div",null,a.a.createElement(Ve,{check:n.greeting,setPreferences:t}),a.a.createElement(Ae,{check:n.searchBar,setPreferences:t}),a.a.createElement(Ue,{check:n.weatherCur,setPreferences:t}),a.a.createElement($e,{type:"button",onClick:r},"Set Preferences")))};function Ye(){var e=Object(C.a)(["\n    width: 100px;\n    height: 30px;\n    font-size: ",";\n    text-align: center;\n    background: transparent;\n    background-color: #FFFFFF;\n    border-radius: 3px;\n    border: 2px solid #FFFFFF;\n    margin: 5px;\n    color: ",";\n\n    &:hover {\n        background: ",";\n        color:#FFFFFF;\n    }\n\n\n"]);return Ye=function(){return e},e}function He(){var e=Object(C.a)(["\n    padding: 15px;\n"]);return He=function(){return e},e}var Ke=Object(s.b)(u.b)(He()),Xe=s.b.button(Ye(),(function(e){return e.theme.fonts.body.larger}),(function(e){return e.theme.colors.link}),(function(e){return e.theme.colors.hovered})),Ze=function(){return a.a.createElement(Ke,{to:"/"},a.a.createElement(Xe,{type:"button"},"Log Out"))};function en(){var e=Object(C.a)(["\n"]);return en=function(){return e},e}var nn=s.b.h1(en()),tn=function(e){var n=e.name;return a.a.createElement(nn,null,"Hello,"," "," ",n)};function rn(){var e=Object(C.a)(["\n  mutation PREFERENCES ($input: NewPrefsInput!){\n    updatePreferences(input: $input){\n      searchBar,\n      weatherCur,\n      greeting,\n    }\n  }\n"]);return rn=function(){return e},e}function an(){var e=Object(C.a)(["\n  query GET_VIEWER {\n    getViewer {\n      username\n      firstName\n      lastName\n      prefs {\n        searchBar\n        weatherCur\n        greeting\n      }\n    }\n  }\n"]);return an=function(){return e},e}var on=ie()(an()),cn=ie()(rn());function un(){var e=Object(C.a)(["\n  font-family: 'Trebuchet MS';\n  color: white;\n  display: flex;\n  justify-content: center;\n\n"]);return un=function(){return e},e}function ln(){var e=Object(C.a)(["\n  width: 100vw;\n  height: auto;\n  display: flex;\n  justify-content: space-between;\n"]);return ln=function(){return e},e}function sn(){var e=Object(C.a)(["\n  width: 100vw;\n  height: 100vh;\n  font-family: 'Trebuchet MS';\n"]);return sn=function(){return e},e}function fn(){var e=Object(C.a)(["\n  background-color: whitesmoke;\n  opacity: 0.5;\n  width: auto;\n  height: auto;\n  padding: 15px;\n  text-align: center;\n  border-radius: 10px;\n"]);return fn=function(){return e},e}function dn(){var e=Object(C.a)(["\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  font-family: 'Trebuchet MS';\n"]);return dn=function(){return e},e}var pn=s.b.div(dn()),bn=(s.b.div(fn()),s.b.div(sn())),hn=s.b.div(ln()),mn=s.b.p(un()),gn=function(e,n){return Object(be.a)({},e,{},n)},vn=function(){var e=Object(r.useReducer)(gn,{searchBar:!0,weatherCur:!0,greeting:!0}),n=Object(k.a)(e,2),t=n[0],o=n[1],c=Object(oe.b)(on,{onCompleted:function(e){var n=e.getViewer;return o({searchBar:n.prefs.searchBar,weatherCur:n.prefs.weatherCur,greeting:n.prefs.greeting})}}),i=c.loading,u=c.error,l=c.data,s=Object(r.useState)(!1),f=Object(k.a)(s,2),d=f[0],p=f[1],b=new y.a("4f9c1a03cd916127c332df8c7bb5f877"),h=Object(r.useState)(),m=Object(k.a)(h,2),g=m[0],v=m[1],x=Object(r.useState)(),F=Object(k.a)(x,2),j=F[0],w=F[1],O=Object(r.useState)(),C=Object(k.a)(O,2),S=C[0],P=C[1],N=Object(r.useState)(),B=Object(k.a)(N,2),z=B[0],I=B[1];Object(r.useEffect)((function(){setTimeout((function(){return p(!0)}),500)}),[]),Object(r.useEffect)((function(){g||navigator.geolocation.getCurrentPosition((function(e){var n,t,r,a;return E.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.coords,o.next=3,E.a.awrap(fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n.latitude,"&lon=").concat(n.longitude,"&appid=db5bbba816b58757082ce2230c7754a6&units=imperial")));case 3:return t=o.sent,o.next=6,E.a.awrap(t.json());case 6:return r=o.sent,v(r),P(r.main.temp),I(r.weather[0].description),o.next=12,E.a.awrap(b.photos.search({text:"".concat(r.weather[0].description," background"),extras:["url_c","description"],per_page:1,sort:"relevance",tags:"desktop wallpaper"}));case 12:(a=o.sent).body.photos.photo[0].url_c?w(a.body.photos.photo[0].url_c):w("https://cdn.wallpapersafari.com/64/53/DI52GS.jpg");case 14:case"end":return o.stop()}}))}),(function(){return alert("Failed to fetch weather data.")}))}),[g]);var L=Object(oe.a)(cn,{variables:{input:t}}),_=Object(k.a)(L,2),T=_[0],$=_[1],G=$.loadingPrefs,M=$.prefsError;return u||M?"".concat(u):i||G?"Loading...":a.a.createElement(bn,null,a.a.createElement(hn,null,a.a.createElement(Ze,null),a.a.createElement(We,{preferences:l.getViewer.prefs,setPreferences:o,update:T})),a.a.createElement(R,{src:j,alt:"weather",fade:d}),a.a.createElement(pn,null,t.greeting?a.a.createElement(tn,{name:l.getViewer.firstName}):null,t.weatherCur?a.a.createElement(mn,null,S,"\xbaF with"," ",z):null,t.searchBar?a.a.createElement(ze,null):null))},xn=function(){return a.a.createElement(u.a,null,a.a.createElement(s.a,{theme:d},a.a.createElement(i.a,{client:j},a.a.createElement("div",{className:"App"},a.a.createElement(l.c,null,a.a.createElement(l.a,{path:"/login",component:de}),a.a.createElement(l.a,{path:"/register",component:Oe}),a.a.createElement(l.a,{path:"/home",component:vn}),a.a.createElement(l.a,{path:"/",component:ae}))))))};c.a.render(a.a.createElement(xn,null),document.getElementById("root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.0fadc13f.chunk.js.map